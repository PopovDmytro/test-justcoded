(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(58)},34:function(e,t,a){},35:function(e,t,a){},42:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=(a(34),a(9)),s=a(10),i=a(12),u=a(11),m=a(13),h=a(7),p=a(6),d=(a(35),a(23)),v=a.n(d),b=(a(42),function(e){return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"Scan QR code"),r.a.createElement(v.a,{className:"qr-scanner",delay:300,onError:function(e){console.warn(e)},onScan:function(t){t&&e.history.push("/result?r=".concat(t))}}))}),E=a(25),f=a(5),g=function(e){var t=e.id,a=e.placeholder,n=e.type,c=e.name,o=e.value,l=e.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",{className:"form-control",type:n,id:t,name:c,placeholder:a,value:o,onChange:l}))},y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:""},a.handleInputChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Object(f.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault(),a.props.writeDataToStorage(a.state.login,a.state.password)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.inputs;return r.a.createElement("form",{onSubmit:this.handleSubmit},t.map(function(t,a){return r.a.createElement(g,Object.assign({key:a,value:e.state[t.name],onChange:e.handleInputChange},t))}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(n.Component),w=function(e){return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"text-center"},"Login")),r.a.createElement("div",{className:"col-md-6 col-lg-4"},r.a.createElement(y,{inputs:[{id:"login",placeholder:"Login",type:"text",name:"login"},{id:"password",placeholder:"Password",type:"password",name:"password"}],writeDataToStorage:function(t,a){if(t&&a){var n=E.Base64.encode("".concat(t,":").concat(a));localStorage.setItem(e.storageKey,n),e.setAuth(!0),e.history.push("/scan")}}})))},j=function(e){var t=e.storageKey,a=e.setAuth;return localStorage.removeItem(t),a(!1),r.a.createElement(p.a,{to:"/login"})},N=a(28),O=a.n(N),A=function(e){var t=e.location;return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"Result"),r.a.createElement("h2",null,"QR scan result: ",O.a.parse(t.search).r||"Please scan your QR code."))},S=(a(56),function(e){return r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{to:"/scan",className:"nav-link",activeClassName:"active"},"Scan")),function(){var t=e.isAuth?"/logout":"/login",a=e.isAuth?"Logout":"Login";return r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{to:t,className:"nav-link",activeClassName:"active"},a))}()))))}),k=function(e,t){return function(a){function n(){return Object(l.a)(this,n),Object(i.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,a),Object(s.a)(n,[{key:"render",value:function(){return t?r.a.createElement(e,this.props):r.a.createElement(p.a,{to:"/login"})}}]),n}(n.Component)},C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isAuth:!1},a.handleAuth=function(e){a.setState({isAuth:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("jwt");e?this.setState({isAuth:e}):this.setState({isAuth:!1})}},{key:"render",value:function(){var e=this,t=this.state.isAuth;return r.a.createElement(h.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(S,{isAuth:t}),r.a.createElement("div",{className:"container mt-4"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/scan",component:k(b,t)}),r.a.createElement(p.b,{path:"/result",component:k(A,t)}),t?r.a.createElement(p.b,{path:"/logout",component:function(t){return r.a.createElement(j,Object.assign({storageKey:"jwt",setAuth:e.handleAuth},t))}}):r.a.createElement(p.b,{path:"/login",component:function(t){return r.a.createElement(w,Object.assign({storageKey:"jwt",setAuth:e.handleAuth},t))}}),r.a.createElement(p.a,{to:"/scan"})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.3c0b0196.chunk.js.map